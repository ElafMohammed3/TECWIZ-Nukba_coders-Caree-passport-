<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedback Page</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<main class="feedback-container">
    <div id="initial-state">
        <h1>Your Feedback Matters</h1>
        <p>How was your experience today?</p>
       
        <div class="emoji-selection">
            <button class="emoji-btn" data-mood="amazing">ğŸ¤©</button>
            <button class="emoji-btn" data-mood="good">ğŸ˜Š</button>
            <button class="emoji-btn" data-mood="neutral">ğŸ˜</button>
            <button class="emoji-btn" data-mood="bad">ğŸ˜</button>
            <button class="emoji-btn" data-mood="terrible">ğŸ˜¡</button>
        </div>
    </div>

    <form id="feedback-form">
        <div class="feedback-form-content" id="form-details">
            <h2 id="feedback-prompt"></h2>
            <textarea id="comments" name="comments" rows="5" placeholder="Write your feedback here..."></textarea>
            <input type="text" id="name" name="name" placeholder="Name (optional)">
            <input type="email" id="email" name="email" placeholder="Email (optional)">
            <button type="submit">Submit Feedback</button>
        </div>
    </form>
   
    <div id="success-message" class="success-message">
        <i class="fas fa-check-circle" style="color: var(--success-color); font-size: 3rem;"></i>
        <br><br>
        Thank you! Your feedback has been successfully received.
    </div>
</main>

<script>
    // Get elements from the page
    const emojiBtns = document.querySelectorAll('.emoji-btn');
    const formDetails = document.getElementById('form-details');
    const feedbackForm = document.getElementById('feedback-form');
    const feedbackPrompt = document.getElementById('feedback-prompt');
    const successMessage = document.getElementById('success-message');
   
    // Custom messages for each mood
    const prompts = {
        amazing: "Awesome! Tell us what you liked most.",
        good: "Glad to hear that! How can we make it even better?",
        neutral: "Thanks for your honesty. What could improve your experience?",
        bad: "We're sorry to hear that! Please tell us what went wrong.",
        terrible: "So sorry! We'd really like to know what happened to avoid it in the future."
    };
   
    // Add event listener for each emoji button
    emojiBtns.forEach(button => {
        button.addEventListener('click', () => {
            // Remove "active" class from all buttons
            emojiBtns.forEach(btn => btn.classList.remove('active'));
           
            // Add "active" class to the clicked button
            button.classList.add('active');
           
            // Get the mood state from the data attribute
            const mood = button.dataset.mood;
           
            // Update the prompt message based on the mood
            feedbackPrompt.textContent = prompts[mood];
           
            // Show the form with a smooth transition
            formDetails.classList.add('show');
        });
    });
   
    // Prevent default form submission and handle data
    feedbackForm.addEventListener('submit', (e) => {
        e.preventDefault(); // Prevents page reload
       
        // Here you can send the data to a server (for this example, we just display a success message)
        const comments = document.getElementById('comments').value;
        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;
        const selectedMood = document.querySelector('.emoji-btn.active').dataset.mood;
       
        console.log({
            mood: selectedMood,
            comments: comments,
            name: name,
            email: email
        });
       
        // Hide the current form and show the success message
        feedbackForm.style.display = 'none';
        document.getElementById('initial-state').style.display = 'none';
        successMessage.style.display = 'block';
    });
</script>

</body>
</html>